library(ggpot2)
install(ggplot2)
library(dpylr)
install(dpylr)
install.packages("tidyverse")
install.packages("tidyverse")
library(readxl)
SLICE_Monitor_2025 <- read_excel("C:/Users/ellijoel/OneDrive - Merck Sharp & Dohme LLC/Desktop/SLICE Monitor 2025.xlsx")
View(SLICE_Monitor_2025)
ggplot(SLICE_Monitor_2025, aes(x = `MSD AH No.`, y = `Biomass (T)`)) +
geom_bar()
library(ggplot2)
ggplot(SLICE_Monitor_2025, aes(x = `MSD AH No.`, y = `Biomass (T)`)) +
+ geom_bar()
ggplot(SLICE_Monitor_2025, aes(x = `MSD AH No.`, y = `Biomass (T)`)) +
geom_bar()
ggplot(SLICE_Monitor_2025, aes(x = `MSD AH No.`, y = `KGS')`)) +
geom_bar()
ggplot(SLICE_Monitor_2025, aes(x = Site, y = KGS)`)) +
+     geom_bar()
ggplot(SLICE_Monitor_2025, aes(Site, KGS)) +
geom_bar()
ggplot(SLICE_Monitor_2025, aes(Site, KGS)) +
geom_point()
ggplot(SLICE_Monitor_2025, aes(Site, KGS))
library(ggplot2)
ggplot(SLICE_Monitor_2025, mapping = aes(Site, Sachets)) + geom_bar()
slice <- data.frame(SLICE_Monitor_2025)
ggplot(slice, aes(Site, Sachets)) + geom_bar()
str(mpg)
library(ggplot2)
Slice_df <- data.frame(MSD_Number,Company,Site,PMF,Area,Sachets,KGS,Order Date,Treatment Date,Biomass_T,No Fish,Size_KG,Generation,Feed Supplier,INC_Rate,Feed
library(ggplot)
library(ggplot2)
SLICE_25 <- read.csv("C:/Users/ellijoel/OneDrive - Merck Sharp & Dohme LLC/Desktop/SLICE_25.csv")
View(SLICE_25)
str(SLICE_25)
ggplot(SLICE_25, aes(x = Site, y = Sachets)) + geom_bar()
rlang::last_trace()
ggplot(SLICE_25, aes(x = Site, y = Sachets)) + geom_bar(stat = "summary", fun = "sum")
ggplot(SLICE_25, aes(x = Site, y = Sachets)) + geom_bar(stat = "summary", fun = "sum") + facet_wrap(Area, scales = "free_x")
library(dplyr)
library(ggplot2)
site_sums <- SLICE_25 |>
group_by(Area, Site) |>
summarise(total_sachets = sum(Sachets, na.rm = TRUE), .groups = "drop")
ggplot(site_sums, aes(x = Site, y = total_sachets)) +
geom_col() +
facet_wrap(~ Area, scales = "free_x") +   # one panel per Area
labs(x = "Site", y = "Total Sachets", title = "Total Sachets by Site, faceted by Area") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
library(dplyr)
library(ggplot2)
site_sums <- SLICE_25 |>
group_by(Area, Site) |>
summarise(total_sachets = sum(Sachets, na.rm = TRUE), .groups = "drop")
ggplot(site_sums, aes(x = Site, y = total_sachets)) +
geom_col() +
facet_wrap(~ Company, scales = "free_x") +   # one panel per Area
labs(x = "Site", y = "Total Sachets", title = "Total Sachets by Site, faceted by Area") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
library(dplyr)
library(ggplot2)
site_sums <- SLICE_25 |>
group_by(Company, Site) |>
summarise(total_sachets = sum(Sachets, na.rm = TRUE), .groups = "drop")
ggplot(site_sums, aes(x = Site, y = total_sachets)) +
geom_col() +
facet_wrap(~ Company, scales = "free_x") +   # one panel per Area
labs(x = "Site", y = "Total Sachets", title = "Total Sachets by Site, faceted by Company") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
q()
# EXAMPLE Libraries ----
library(tidyr)  # Formatting data for analysis
library(dplyr)  # Manipulating data
library(ggplot2)  # Visualising results
library(readr)  # Manipulating data
# EXAMPLE Defining functions ----
# A custom ggplot2 function
theme.LPI <- function(){
theme_bw()+
theme(axis.text.x=element_text(size=12, angle=45, vjust=1, hjust=1),
axis.text.y=element_text(size=12),
axis.title.x=element_text(size=14, face="plain"),
axis.title.y=element_text(size=14, face="plain"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x=element_blank(),
panel.grid.minor.y=element_blank(),
panel.grid.major.y=element_blank(),
plot.margin = unit(c(0.5, 0.5, 0.5, 0.5), units = , "cm"),
plot.title = element_text(size=20, vjust=1, hjust=0.5),
legend.text = element_text(size=12, face="italic"),
legend.title = element_blank(),
legend.position=c(0.9, 0.9))
}
library(readr)  # Manipulating data
# EXAMPLE Defining functions ----
# A custom ggplot2 function
theme.LPI <- function(){
theme_bw()+
theme(axis.text.x=element_text(size=12, angle=45, vjust=1, hjust=1),
axis.text.y=element_text(size=12),
axis.title.x=element_text(size=14, face="plain"),
axis.title.y=element_text(size=14, face="plain"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x=element_blank(),
panel.grid.minor.y=element_blank(),
panel.grid.major.y=element_blank(),
plot.margin = unit(c(0.5, 0.5, 0.5, 0.5), units = , "cm"),
plot.title = element_text(size=20, vjust=1, hjust=0.5),
legend.text = element_text(size=12, face="italic"),
legend.title = element_blank(),
legend.position=c(0.9, 0.9))
}
#Set the working directory ----
setwd("C:/Users/ellijoel/OneDrive - Merck Sharp & Dohme LLC/Desktop/CC-etiquette-master")
# Import data ----
LPI <- read.csv("LPIdata_CC.csv")
# Import data ----
LPI <- read.csv("LPIdata_CC.csv")
# Formatting data ----
LPI2 <- gather(LPI, "year", "abundance", 9:53) #Transmofring there data from wide to long format, some blank cells may disappear
#gather function requires tidyr package
LPI2$year <- parse_number(LPI2$year) #this removes the awkward Xs from in front of all the years
names(LPI2) #check what the different variables are called
names(LPI2) <- tolower(names(LPI2)) #make all the variable names lowe case
names(LPI2)
#When manipulating data it's always good to check if the variables have stayed how we want them
#Use the str() function
str(LPI2)
#It looks like abundanceis a character variable, when we want it as numeric, lets change that
LPI2%abundance <- as.numeric(LPI2$abundance)
#It looks like abundanceis a character variable, when we want it as numeric, lets change that
LPI2$abundance <- as.numeric(LPI2$abundance)
#Calc summary stats for each biome in the LPI database
levels(LPI2$biome) #list all biomes
#Visualising the number of populations in each biome with ggplot2 package ----
#putting your entire ggplot code in brackets creates the graph AND shows in it the plot viewer
(barplot <- ggplot(LPI_biome_summ, aes(biome, color = biome, y = populations)) + geom_bar(stat = "identity") +
theme.LPI() + #use of peronal theme here
ylab("Number of populations") +
xlab("Biome") +
theme(legend.position = "none")) #remove the legend for simplicity
#Calc summary stats for each biome in the LPI database
levels(LPI2$biome) #list all biomes
LPI_biome_summ <- LPI2 %>% #use a pipe operator
group_by(biome) %>% #group by biome
summarise(populations = n()) #create columns, number of populations
#Visualising the number of populations in each biome with ggplot2 package ----
#putting your entire ggplot code in brackets creates the graph AND shows in it the plot viewer
(barplot <- ggplot(LPI_biome_summ, aes(biome, color = biome, y = populations)) + geom_bar(stat = "identity") +
theme.LPI() + #use of peronal theme here
ylab("Number of populations") +
xlab("Biome") +
theme(legend.position = "none")) #remove the legend for simplicity
png(file="img/biome_pop.png", width = 1000, height = 2000) #Note that png() uses pixel values for width and height
ggplot(LPI_biome_summ, aes(biome, color = biome, y = populations)) + geom_bar(stat = "identity") +
theme.LPI()+
ylab("Number of populations") +
xlab("Biome") +
theme(legend.position = "none")
#Reformat your old code to add in spaces and limit line length
install.packages("formatR")
library("formatR")
#Set working directory to where your messy script is
tidy_source("bad_script.R", file = "tidy_script.R", width.cutoff  = 100)
#Set working directory to where your messy script is
tidy_source("bad_script.R", file = "tidy_script.R", width.cutoff  = 100)
# IMPORTANT this will override script files, so make a duplicate back up folder, in case tidy_dir messes up
tidy_dir(path="C:/Users/ellijoel/OneDrive - Merck Sharp & Dohme LLC/Desktop/CC-etiquette-master", recursive = TRUE)
# IMPORTANT this will override script files, so make a duplicate back up folder, in case tidy_dir messes up
tidy_dir(path="C:/Users/ellijoel/OneDrive - Merck Sharp & Dohme LLC/Desktop/CC-etiquette-master", recursive = TRUE)
#RStudio Addins ----
#Some handy tools exist to help
install.packages('addinslist')
# Insert a box around the introductory section of your script
install.packages("devtools")
devtools::install_github("ThinkRstat/littleboxes")
# Afterwards select your introductory comments, click on Addins/ Little boxes and the box appears!
